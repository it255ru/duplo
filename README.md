# duplo - find duplicate file (CLI)

–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –ø–æ–∏—Å–∫–∞ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥—É–±–ª–∏–∫–∞—Ç–∞–º–∏ —Ñ–∞–π–ª–æ–≤ –∏ –∫–∞—Ç–∞–ª–æ–≥–æ–≤. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É, –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∏ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É–¥–∞–ª–µ–Ω–∏–µ–º –¥—É–±–ª–∏–∫–∞—Ç–æ–≤.

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –í—Å–µ–≥–¥–∞ –¥–µ–ª–∞–π—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏ –≤–∞–∂–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤.

[![Python Version](https://img.shields.io/badge/python-3.7%2B-blue)](https://www.python.org/)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üîç **–ü–æ–∏—Å–∫ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ —Ñ–∞–π–ª–æ–≤** –ø–æ —Ö–µ—à-—Å—É–º–º–∞–º (MD5)
- üìä **–î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞** –ø–æ —Ñ–∞–π–ª–∞–º, –∫–∞—Ç–∞–ª–æ–≥–∞–º –∏ —Ç–∏–ø–∞–º —Ñ–∞–π–ª–æ–≤
- üìÅ **–û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∏–¥–µ–Ω—Ç–∏—á–Ω—ã—Ö –∫–∞—Ç–∞–ª–æ–≥–æ–≤** —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏ –Ω–∞–±–æ—Ä–∞–º–∏ —Ñ–∞–π–ª–æ–≤
- ‚ö° **–ú–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞** –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã
- üíæ **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤** –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –∑–∞–ø—É—Å–∫–æ–≤
- üóÇÔ∏è **–ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤** –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º (–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, –≤–∏–¥–µ–æ, –¥–æ–∫—É–º–µ–Ω—Ç—ã –∏ —Ç.–¥.)
- üñ±Ô∏è **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º** –≤—ã–±–æ—Ä–∞ —Ñ–∞–π–ª–æ–≤ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è
- üß™ **–¢–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º** (dry-run) –¥–ª—è –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –æ–ø–µ—Ä–∞—Ü–∏–π
- ‚öôÔ∏è **–ì–∏–±–∫–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏** —á–µ—Ä–µ–∑ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
```bash
git clone https://github.com/it255ru/duplo.git
cd duplo
```

2. –°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):
```bash
python3 -m venv venv      # Linux/Mac
source venv/bin/activate  # Linux/Mac
–∏–ª–∏
python.exe -m venv venv   # Windows
.\venv\Scripts\activate     # Windows
```

3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```bash
pip install -r req.txt
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ë–∞–∑–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã

–ü—Ä–æ—Å—Ç–æ–π –∞–Ω–∞–ª–∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞:
```bash
python main.py "–ø—É—Ç—å/–∫/–∫–∞—Ç–∞–ª–æ–≥—É"
```

–ê–Ω–∞–ª–∏–∑ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∫—ç—à–∞ –∏ –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç–∏:
```bash
python main.py "–ø—É—Ç—å/–∫/–∫–∞—Ç–∞–ª–æ–≥—É" --workers 16 --cache-file "my_cache.pkl"
```

–ü–æ–∏—Å–∫ –∏–¥–µ–Ω—Ç–∏—á–Ω—ã—Ö –∫–∞—Ç–∞–ª–æ–≥–æ–≤:
```bash
python main.py "–ø—É—Ç—å/–∫/–∫–∞—Ç–∞–ª–æ–≥—É" --find-identical-dirs
```

### –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥—É–±–ª–∏–∫–∞—Ç–∞–º–∏

–ó–∞–ø—É—Å–∫ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞ –¥–ª—è –≤—ã–±–æ—Ä–∞ —Ñ–∞–π–ª–æ–≤ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è:
```bash
python main.py "–ø—É—Ç—å/–∫/–∫–∞—Ç–∞–ª–æ–≥—É" --interactive
```

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª–∞ "–æ—Å—Ç–∞–≤–∏—Ç—å –ø–µ—Ä–≤—É—é –∫–æ–ø–∏—é" –¥–ª—è –≤—Å–µ—Ö –≥—Ä—É–ø–ø:
```bash
python main.py "–ø—É—Ç—å/–∫/–∫–∞—Ç–∞–ª–æ–≥—É" --auto-first
```

–¢–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º (–ø–æ–∫–∞–∂–µ—Ç —á—Ç–æ –±—É–¥–µ—Ç —É–¥–∞–ª–µ–Ω–æ, –Ω–æ –Ω–µ —É–¥–∞–ª–∏—Ç):
```bash
python main.py "–ø—É—Ç—å/–∫/–∫–∞—Ç–∞–ª–æ–≥—É" --interactive --dry-run
```

### –ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤

| –ê—Ä–≥—É–º–µ–Ω—Ç | –û–ø–∏—Å–∞–Ω–∏–µ | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é |
|----------|----------|--------------|
| `source_dir` | –ü—É—Ç—å –∫ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º–æ–º—É –∫–∞—Ç–∞–ª–æ–≥—É (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π) | - |
| `--workers` | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Ç–æ–∫–æ–≤ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ | 8 |
| `--cache-file` | –§–∞–π–ª –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è —Ö–µ—à–µ–π | `hash_cache.pkl` |
| `--group-by-category` | –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∞—Ç—å –¥—É–±–ª–∏–∫–∞—Ç—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º | –û—Ç–∫–ª—é—á–µ–Ω–æ |
| `--find-identical-dirs` | –ò—Å–∫–∞—Ç—å –∏–¥–µ–Ω—Ç–∏—á–Ω—ã–µ –∫–∞—Ç–∞–ª–æ–≥–∏ | –û—Ç–∫–ª—é—á–µ–Ω–æ |
| `--interactive` | –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º –≤—ã–±–æ—Ä–∞ | –û—Ç–∫–ª—é—á–µ–Ω–æ |
| `--dry-run` | –¢–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º (–±–µ–∑ —Ä–µ–∞–ª—å–Ω–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è) | –û—Ç–∫–ª—é—á–µ–Ω–æ |
| `--auto-first` | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Å—Ç–∞–≤–ª—è—Ç—å –ø–µ—Ä–≤—É—é –∫–æ–ø–∏—é | –û—Ç–∫–ª—é—á–µ–Ω–æ |

## –ü—Ä–∏–º–µ—Ä—ã –≤—ã–≤–æ–¥–∞

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
```
============================================================
–°–í–û–î–ù–ê–Ø –°–¢–ê–¢–ò–°–¢–ò–ö–ê
============================================================
–û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–∞–π–ª–æ–≤: 21603
–û–±—â–∏–π –æ–±—ä–µ–º –¥–∞–Ω–Ω—ã—Ö: 113.97 GB

============================================================
–†–ê–°–ü–†–ï–î–ï–õ–ï–ù–ò–ï –ü–û –ö–ê–¢–ï–ì–û–†–ò–Ø–ú
============================================================
* IMAGES      :  19128 —Ñ–∞–π–ª–æ–≤ (88.5%), 34.20 GB
* VIDEOS      :   1079 —Ñ–∞–π–ª–æ–≤ (5.0%), 67.95 GB
* OTHER       :   1396 —Ñ–∞–π–ª–æ–≤ (6.5%), 11.82 GB
```

### –î—É–±–ª–∏–∫–∞—Ç—ã —Ñ–∞–π–ª–æ–≤
```
–ì—Ä—É–ø–ø–∞ 1 (–•–µ—à: 637bfe87...), –†–∞–∑–º–µ—Ä: 2.20 MB, –ö–∞—Ç–µ–≥–æ—Ä–∏—è: images
  -> X:\90-photos\—Ñ–æ—Ç–æ1\—Ñ–æ—Ç–æ —Å –¥–∏—Å–∫–∞\—Ñ–æ—Ç–∫–∏\–§–û–¢–û\CIMG2033.JPG
  -> X:\90-photos\—Ñ–æ—Ç–æ1\—Ñ–æ—Ç–æ —Å –¥–∏—Å–∫–∞\—Ñ–æ—Ç–∫–∏\–§–û–¢–û\–ö–æ–ø–∏—è CIMG2033.JPG
```

### –ò–¥–µ–Ω—Ç–∏—á–Ω—ã–µ –∫–∞—Ç–∞–ª–æ–≥–∏
```
–ì—Ä—É–ø–ø–∞ –∏–¥–µ–Ω—Ç–∏—á–Ω—ã—Ö –∫–∞—Ç–∞–ª–æ–≥–æ–≤ #1:
  -> X:\90-photos\1111\foto\Pictures\Pictures\2014-01 (5 —Ñ–∞–π–ª–æ–≤, 6.02 MB)
  -> X:\90-photos\Camera\Pictures\2014-01 (5 —Ñ–∞–π–ª–æ–≤, 6.02 MB)
```

## –°–æ–≤–µ—Ç—ã –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

1. **–ù–∞—á–Ω–∏—Ç–µ —Å —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Ä–µ–∂–∏–º–∞** —á—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å, —á—Ç–æ –±—É–¥–µ—Ç —É–¥–∞–ª–µ–Ω–æ:
   ```bash
   python main.py "–ø—É—Ç—å/–∫/–∫–∞—Ç–∞–ª–æ–≥—É" --interactive --dry-run
   ```

2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –∑–∞–ø—É—Å–∫–æ–≤:
   ```bash
   python main.py "–ø—É—Ç—å/–∫/–∫–∞—Ç–∞–ª–æ–≥—É" --cache-file "my_cache.pkl"
   ```

3. **–î–ª—è –±–æ–ª—å—à–∏—Ö –∫–æ–ª–ª–µ–∫—Ü–∏–π** —É–≤–µ–ª–∏—á—å—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Ç–æ–∫–æ–≤:
   ```bash
   python main.py "–ø—É—Ç—å/–∫/–∫–∞—Ç–∞–ª–æ–≥—É" --workers 16
   ```

4. **–°–Ω–∞—á–∞–ª–∞ –æ–±—Ä–∞–±–æ—Ç–∞–π—Ç–µ –º–µ–¥–∏–∞—Ñ–∞–π–ª—ã** —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º:
   ```bash
   python main.py "–ø—É—Ç—å/–∫/–º–µ–¥–∏–∞—Ñ–∞–π–ª–∞–º" --group-by-category --interactive
   ```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
DuplicateFinder/
‚îú‚îÄ‚îÄ duplicate_finder.py  # –û—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç
‚îú‚îÄ‚îÄ requirements.txt     # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ README.md           # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îî‚îÄ‚îÄ hash_cache.pkl      # –§–∞–π–ª –∫—ç—à–∞ (—Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
```

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.7 –∏–ª–∏ –Ω–æ–≤–µ–µ
- –î–æ—Å—Ç—É–ø –∫ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ —Å –ø—Ä–∞–≤–∞–º–∏ –Ω–∞ —á—Ç–µ–Ω–∏–µ/–∑–∞–ø–∏—Å—å

## –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π MIT. –ü–æ–¥—Ä–æ–±–Ω–µ–µ —Å–º. –≤ —Ñ–∞–π–ª–µ LICENSE.

## –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç

–ú—ã –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ–º –≤–∫–ª–∞–¥ –≤ —Ä–∞–∑–≤–∏—Ç–∏–µ –ø—Ä–æ–µ–∫—Ç–∞! –î–ª—è —ç—Ç–æ–≥–æ:

1. –°–¥–µ–ª–∞–π—Ç–µ —Ñ–æ—Ä–∫ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
2. –°–æ–∑–¥–∞–π—Ç–µ –≤–µ—Ç–∫—É –¥–ª—è –≤–∞—à–µ–π —Ñ—É–Ω–∫—Ü–∏–∏ (`git checkout -b feature/amazing-feature`)
3. –ó–∞—Ñ–∏–∫—Å–∏—Ä—É–π—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (`git commit -m 'Add some amazing feature'`)
4. –ó–∞–ø—É—à—å—Ç–µ –≤ –≤–µ—Ç–∫—É (`git push origin feature/amazing-feature`)
5. –û—Ç–∫—Ä–æ–π—Ç–µ Pull Request

## –û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –≤–æ–ø—Ä–æ—Å—ã –∏–ª–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –ø–æ —É–ª—É—á—à–µ–Ω–∏—é –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞, —Å–æ–∑–¥–∞–π—Ç–µ issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞.

---

